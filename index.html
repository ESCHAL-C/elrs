<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">

  <title>eLRS Front End</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Poppins&family=Red+Hat+Mono&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="style.css">

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="UI_scripts.js"></script>
  <script src="Convert_scripts_20220920.js"></script>
</head>

<body>
  <ul class="nav">
  </ul>

  <div class="w3-panel w3-red">
    <h3>Danger!</h3>
    <p>Some field names appear to be swapped in the API.</p>
  </div>

  <div class="w3-panel w3-yellow">
    <h3>Warning!</h3>
    <p>When multiple roads are returned, only the last one is displayed.</p>
    <p>There is no error handling when no road is returned.</p>
    <p>This webpage does not have any data validation for text fields yet.</p>
  </div>

  <div class ="intro">
    <h1>eLRS Front End Demo</h1>

    <p>This eLRS tool can accept coordinates in four different formats:</p>
      <ul class="format_list">
        <li>Lat, Lon</li>
        <li>RouteID (Route Name), Reference Marker, and Displacement</li>
        <li>RouteID (Route Name), And Distance from Origin</li>
        <li>Control Section And Mile Point Measure</li>
      </ul>

    <br><button type="button" onclick="Reset_InputForm()" class="resetbtn">Reset Form</button><br>
  </div>

  <div class="calculator">
    <div id = "calculator_form"> <!-- changed from form to div-->

        <form id ="calculator_form_latlon" class="multi-input"> <!-- changed from div to form-->
          <h2>Query by Lat Lon</h2>
          <h4><strong>Example: </strong></h4>
          <p class="example">Lat = 29.458244<br>Lon = -98.515803</p>
          <div class="singleinput">
            <label for="lat" class="label">Latitude:</label>
            <input type="number" required id="lat" name="lat" class="textentry">
            <output id="show_lat" class="textecho"></output>
          </div>
          <div class="singleinput">
            <label for="lon" class="label">Longitude:</label>
            <input type="number" required id="lon" name="lon" class="textentry">
            <output id="show_lon" class="textecho"></output>
          </div>
          <br><button type="button" onclick="Convert_Coords(1)" class="resultsbtn">Return Results</button><br>
        </form> <!-- changed from div to form-->

        <form id ="calculator_form_refmrkr" class="multi-input"> <!-- changed from div to form-->
          <h2>Query by Reference Marker</h2>
          <h4><strong>Example: </strong></h4>
          <p class="example">RouteID = IH0010-KG<br>ReferenceMarker = 540<br>Displacement = 0.404</p><br>
          <div class="singleinput">
            <label for="routeid_2" class="label">Route Name:</label>
            <input type="text" required pattern="[A-Z]{2}\d{4}[A-Z]?-[A-Z]{2}" id="routeid_2" name="routeid_2" class="textentry">
            <output id="show_routeid_2" class="textecho"></output>
          </div>
          <div class="singleinput">
            <label for="refmarker" class="label">Reference Marker:</label>
            <input type="number" required id="refmarker" name="refmarker" class="textentry">
            <output id="show_refmarker" class="textecho"></output>
          </div>
          <div class="singleinput">
            <label for="displacement" class="label">Displacement:</label>
            <input type="number" required id="displacement" name="displacement" class="textentry">
            <output id="show_displacement" class="textecho"></output>
          </div>
          <br><button type="button" onclick="Convert_Coords(2)" class="resultsbtn">Return Results</button><br>
        </form> <!-- changed from div to form-->

        <form id ="calculator_form_dfo" class="multi-input"> <!-- changed from div to form-->
          <h2>Query by DFO</h2>
          <h4><strong>Example: </strong></h4>
          <p class="example">RouteID = IH0010-KG<br>DFO = 540.357</p>
          <div class="singleinput">
            <label for="routeid_4" class="label">Route Name:</label>
            <input type="text" required pattern="[A-Z]{2}\d{4}[A-Z]?-[A-Z]{2}" id="routeid_4" name="routeid_4" class="textentry">
            <output id="show_routeid_4" class="textecho"></output>
          </div>
          <div class="singleinput">
            <label for="dfo" class="label">Distance from Origin:</label>
            <input type="number" required step="0.1" id="dfo" name="dfo" class="textentry">
            <output id="show_dfo" class="textecho"></output>
          </div>
          <br><button type="button" onclick="Convert_Coords(4)" class="resultsbtn">Return Results</button><br>
        </form> <!-- changed from div to form-->

        <form id ="calculator_form_csj" class="multi-input"> <!-- changed from div to form-->
          <h2>Query by Control Section</h2>
          <h4><strong>Example: </strong></h4>
          <p class="example">ControlSectionNumber = 007206<br>MilePointMeasure = 19.421</p>
          <div class="singleinput">
            <label for="csj" class="label">Control Section:</label>
            <input type="text" required id="csj" name="csj" class="textentry">
            <output id="show_csj" class="textecho"></output>
          </div>
          <div class="singleinput">
            <label for="mpm" class="label">Mile Point Measure:</label>
            <input type="number" required id="mpm" name="mpm" class="textentry">
            <output id="show_mpm" class="textecho"></output>
          </div>
          <br><button type="button" onclick="Convert_Coords(3)" class="resultsbtn">Return Results</button><br>
        </form> <!-- changed from div to form-->

    </div> <!-- changed from form to div-->
    <form class="results_pane" id = "calculator_report">
        <div class="multi-output">

          <h2>Route Count</h2>
          <div class="singleoutput">
            <p class="label_output">Number Returned:</p>
            <output id="p_returned_RouteCount" class="textout"></output>
          </div>

          <h2>URL</h2>
          <div class="singleoutput">
            <p class="label_output">URL:</p>
            <a href="" id="elrs_url" class="elrs_url"></a>
          </div>

          <h2>Results</h2>
          <div class="singleoutput">
            <p class="label_output">RouteID:</p>
            <output id="p_returned_ROUTEID" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Roadbed Type:</p>
            <output id="p_returned_RDBD_TYPE_DSCR" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Route Prefix Type:</p>
            <output id="p_returned_RTE_PRFX_TYPE_DSCR" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Route Number:</p>
            <output id="p_returned_ROUTENUMBER" class="textout"></output>
          </div>

          <h2>Lat Lon</h2>
          <div class="singleoutput">
            <p class="label_output">Latitude:</p>
            <output id="p_returned_LAT" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Longitude:</p>
            <output id="p_returned_LON" class="textout"></output>
          </div>

          <h2>Route Name</h2>
          <div class="singleoutput">
            <p class="label_output">Route Name:</p>
            <output id="p_returned_RTE_DEFN_LN_NM" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Reference Marker:</p>
            <output id="p_returned_RMRKR_PNT_NBR" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Displacement:</p>
            <output id="p_returned_RMRKR_DISPLACEMENT" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Distance from Origin:</p>
            <output id="p_returned_RTE_DFO" class="textout"></output>
          </div>

          <h2>Control Section</h2>
          <div class="singleoutput">
            <p class="label_output">Control Section:</p>
            <output id="p_returned_CTRL_SECT_LN_NBR" class="textout"></output>
          </div>
          <div class="singleoutput">
            <p class="label_output">Mile Point Measure:</p>
            <output id="p_returned_CTRL_SECT_MPT" class="textout"></output>
          </div>

        </div>
        <iframe src="" id="elrs_frame" ></iframe>
    </form>

  </div>
</body>
</html>
